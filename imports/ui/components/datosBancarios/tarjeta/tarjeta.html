<form
id="tarjetaFrmId"
class="property-submit-form"
role="form"
name="tarjetaFrm"
nonvalidate>
  <div class="row">
    <!-- NOMBRE DE LA PERSONA -->
    <div class="col-sm-6 ">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.nombreBanco.$invalid && !tarjetaFrm.nombreBanco.$pristine}">
        <input
        id="nombreBancoId"
        class="form-control"
        name="nombreBanco"
        type="text"
        autocomplete="off"
        placeholder="Nombre y Apellidos"
        required
        minlength="1"
        maxlength="31"
        ng-minlength="1"
        ng-maxlength="30"
        ng-pattern="/^[a-zA-Z-ñáéíóú\s\d]+$/"
        ng-model="tarjeta.tarjetaBancaria.nombreBanco"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.nombreBanco.$dirty && tarjetaFrm.nombreBanco.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength">30 caracteres máximo</div>
          <div style="color:red;" ng-message="pattern">Únicamente caracteres alfabéticos</div>
        </div>
      </div>
    </div>
    <!-- TIPO DE TARJETA CRÉDITO O DÉBITO -->
    <div class="col-sm-6">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.tipoTarjeta.$invalid && !tarjetaFrm.tipoTarjeta.$pristine}">
        <select
        id="tipoTarjetaId"
        class="form-control"
        name="tipoTarjeta"
        type="text"
        autocomplete="off"
        placeholder="Débito / Crédito"
        required
        ng-model="tarjeta.tarjetaBancaria.tipoTarjeta"
        ng-disabled="deshabilitarCampos">
          <option value="">Clase</option>
          <option value="1">Visa</option>
          <option value="2">MasterCard</option>
        </select>
        <div ng-messages="tarjetaFrm.tipoTarjeta.$dirty && tarjetaFrm.tipoTarjeta.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
        </div>
      </div>
    </div>
  </div>
  <!-- Sección (Datos Bancarios) -->
  <div class="row">
    <!-- NÚMERO DE TARJETA BANCARIA (BLOQUE 1)-->
    <div class="col-sm-3 ">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.numeroTarjetaBloque1.$invalid && !tarjetaFrm.numeroTarjetaBloque1.$pristine}">
        <input
        id="numeroTarjetaBloque1Id"
        class="form-control"
        name="numeroTarjetaBloque1"
        type="password"
        autocomplete="off"
        placeholder="0000"
        required
        minlength="4"
        maxlength="4"
        ng-minlength="4"
        ng-maxlength="4"
        ng-pattern="/^[0-9]{4}$/"
        ng-model="tarjeta.tarjetaBancaria.numeroTarjetaBloque1"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.numeroTarjetaBloque1.$dirty && tarjetaFrm.numeroTarjetaBloque1.$error" role="alert">
          <div style="color:red;" ng-message="required" >Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength" >4 caracteres numéricos requeridos</div>
          <div style="color:red;" ng-message="pattern">4 caracteres numéricos requeridos</div>
        </div>
      </div>
    </div>
    <!-- NÚMERO DE TARJETA BANCARIA (BLOQUE 2)-->
    <div class="col-sm-3">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.numeroTarjetaBloque2.$invalid && !tarjetaFrm.numeroTarjetaBloque2.$pristine}">
        <input
        id="numeroTarjetaBloque2Id"
        class="form-control"
        name="numeroTarjetaBloque2"
        type="password"
        autocomplete="off"
        placeholder="0000"
        minlength="4"
        maxlength="4"
        ng-minlength="4"
        ng-maxlength="4"
        ng-pattern="/^[0-9]{4}$/"
        ng-model="tarjeta.tarjetaBancaria.numeroTarjetaBloque2"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.numeroTarjetaBloque2.$dirty && tarjetaFrm.numeroTarjetaBloque2.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength">4 caracteres numéricos requeridos</div>
          <div style="color:red;" ng-message="pattern">4 caracteres numéricos requeridos</div>
        </div>
      </div>
    </div>
    <!-- NÚMERO DE TARJETA BANCARIA (BLOQUE 3)-->
    <div class="col-sm-3">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.numeroTarjetaBloque3.$invalid && !tarjetaFrm.numeroTarjetaBloque3.$pristine}">
        <input
        id="numeroTarjetaBloque3Id"
        class="form-control"
        name="numeroTarjetaBloque3"
        type="password"
        autocomplete="off"
        placeholder="0000"
        required
        minlength="4"
        maxlength="4"
        ng-minlength="4"
        ng-maxlength="4"
        ng-pattern="/^[0-9]{4}$/"
        ng-model="tarjeta.tarjetaBancaria.numeroTarjetaBloque3"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.numeroTarjetaBloque3.$dirty && tarjetaFrm.numeroTarjetaBloque3.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength">4 caracteres numéricos requeridos</div>
          <div style="color:red;" ng-message="pattern">4 caracteres numéricos requeridos</div>
        </div>
      </div>
    </div>
    <!-- NÚMERO DE TARJETA BANCARIA (BLOQUE 4)-->
    <div class="col-sm-3">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.numeroTarjetaBloque4.$invalid && !tarjetaFrm.numeroTarjetaBloque4.$pristine}">
        <input
        id="numeroTarjetaBloque4Id"
        class="form-control"
        style="color: blue;"
        name="numeroTarjetaBloque4"
        type="text"
        autocomplete="off"
        placeholder="0000"
        required
        minlength="4"
        maxlength="4"
        ng-minlength="4"
        ng-maxlength="4"
        ng-pattern="/^[0-9]{4}$/"
        ng-model="tarjeta.tarjetaBancaria.numeroTarjetaBloque4"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.numeroTarjetaBloque4.$dirty && tarjetaFrm.numeroTarjetaBloque4.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength">4 caracteres numéricos requeridos</div>
          <div style="color:red;" ng-message="pattern">4 caracteres numéricos requeridos</div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <!-- EXPIRACIÓN MES  -->
    <div class="col-sm-4">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.fechaExpiracionMes.$invalid && !tarjetaFrm.fechaExpiracionMes.$pristine}">
        <input
        id="fechaExpiracionMesId"
        class="form-control"
        name="fechaExpiracionMes"
        type="password"
        autocomplete="off"
        placeholder="Mes"
        required
        minlength="2"
        maxlength="2"
        ng-minlength="2"
        ng-maxlength="2"
        ng-pattern="/^[0-9]{2}$/"
        ng-model="tarjeta.tarjetaBancaria.fechaExpiracionMes"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.fechaExpiracionMes.$dirty && tarjetaFrm.fechaExpiracionMes.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength">2 caracteres numéricos requeridos</div>
          <div style="color:red;" ng-message="min, max">Introduce un més válido del 1 a 12</div>
          <div style="color:red;" ng-message="pattern">2 caracteres numéricos requeridos</div>
        </div>
      </div>
    </div>
    <!-- EXPIRACIÓN AÑO  -->
    <div class="col-sm-4">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.fechaExpiracionAnio.$invalid && !tarjetaFrm.fechaExpiracionAnio.$pristine}">
        <input
        id="fechaExpiracionAnioId"
        class="form-control"
        name="fechaExpiracionAnio"
        type="password"
        autocomplete="off"
        placeholder="Año"
        required
        minlength="2"
        maxlength="2"
        ng-minlength="2"
        ng-maxlength="2"
        ng-pattern="/^[0-9]{2}$/"
        ng-model="tarjeta.tarjetaBancaria.fechaExpiracionAnio"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.fechaExpiracionAnio.$dirty && tarjetaFrm.fechaExpiracionAnio.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength">2 caracteres numéricos requeridos</div>
          <div style="color:red;" ng-message="min, max">Introduce un año válido en dós caracteres numéricos.</div>
          <div style="color:red;" ng-message="pattern">2 caracteres numéricos requeridos</div>
        </div>
      </div>
    </div>
    <!-- CÓDIGO DE SEGURIDAD  -->
    <div class="col-sm-4">
      <div class="form-group" ng-class="{ 'has-error' : tarjetaFrm.codigoSeguridad.$invalid && !tarjetaFrm.codigoSeguridad.$pristine}">
        <input
        id="codigoSeguridadId"
        class="form-control"
        name="codigoSeguridad"
        type="password"
        autocomplete="off"
        placeholder="CCV"
        required
        minlength="3"
        maxlength="3"
        ng-minlength="3"
        ng-maxlength="3"
        ng-pattern="/^[0-9]{3}$/"
        ng-model="tarjeta.tarjetaBancaria.codigoSeguridad"
        ng-disabled="deshabilitarCampos" />
        <div ng-messages="tarjetaFrm.codigoSeguridad.$dirty && tarjetaFrm.codigoSeguridad.$error" role="alert">
          <div style="color:red;" ng-message="required">Campo requerido.</div>
          <div style="color:red;" ng-message="minlength, maxlength">3 Dígitos necesarios</div>
          <div style="color:red;" ng-message="pattern">3 caracteres numéricos requeridos</div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-8">
      <!-- ALERTA:  -->
      <div class="row">
        <div class="col-xs-12" ng-show="tarjeta.respuesta.mostrar">
          <uib-alert type="{{ tarjeta.respuesta.tipo }}">
            <span class="fa fa-exclamation-triangle"></span>
            <strong> {{ tarjeta.respuesta.mensaje }} </strong>
          </uib-alert>
        </div>
      </div>
    </div>
    <!-- BOTON AÑADIR TARJETA -->
    <div class="col-sm-4">
      <!-- GUARDAR -->
      <button
      class="btn btn-primary btn-block pull-right"
      type="button"
      ng-click="tarjeta.guardar()"
      ng-disabled="tarjetaFrm.$invalid"
      ng-hide="tarjeta.tarjetaBancaria.owner">
        Guardar Tarjeta
      </button>
      <!-- GUARDAR CAMBIOS -->
      <button
      class="btn btn-default btn-block pull-right"
      type="button"
      ng-click="tarjeta.guardarCambios()"
      ng-disabled="tarjetaFrm.$invalid"
      ng-show="tarjeta.tarjetaBancaria.owner">
        Guardar Cambios
      </button>
    </div>
  </div>
</form>
